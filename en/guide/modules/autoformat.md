# AutoFormat

**Powered by [Pangu.js](https://github.com/vinta/pangu.js/)**
::: info A study shows that

people who don't like to add spaces between Chinese characters and English words when typing tend to have a hard time with relationships, with 70% marrying someone they don't love at the age of 34, and the remaining 30% leaving their heritage to their cats. After all, love and writing both need to be left blank at the right time.
:::

This module can add spaces between Chinese characters and English words and will modify the punctuation marks correctly, using Chinese punctuation marks for Chinese characters and English punctuation marks for English words. However, for quotation marks and brackets, automatic conversion is currently not possible. In addition, it will remove spaces between Chinese characters and duplicate spaces.

## Preset

1. Remove all spaces: Sometimes after PDF OCR, there will be a large number of spaces. You can use this feature to remove all the spaces, but only if there are no English words, otherwise the English words will also be combined.
2. Half-width to Full-width: Use half-width symbols for English and full-width symbols for English.
3. Add spaces between Chinese characters and English words
4. Remove spaces between Chinese characters.
5. Remove duplicate spaces: change multiple consecutive spaces to only one space.

If enabled, the multiple presets will be executed sequentially from top to bottom.

## Custom

::: warning Input Format
[Replace() Method Format —— Replace](../custom.md#replace-method)
:::

## English Title Standardization

**Powered by [to-title-case](https://github.com/gouch/to-title-case)**

When this option is enabled, AutoFormat capitalizes the automatically generated titles according to the rules. Please note that they are automatically generated titles, i.e. titles generated by [Another AutoTitle](anotherautodef.md), [Another AutoDef](anotherautodef.md) and [AutoComplete](autocomplete.md).

::: warning
Only initials of words will be upper-cased, i.e. capitalized. However, if the title is all upper-cased, it means that the upper-case title setting in the MarginNote home page settings is enabled.
:::

**Rules:**

1. By default, capitalize all words
2. Always capitalize the first and last word in titles and subtitles
3. Capitalize both parts of hyphenated words
4. Lowercase articles: a, an, the
5. Lowercase conjunctions: and, but, or, nor
6. Lowercase short prepositions: as, at, by, for, in, of, on, per, to, via
7. Lowercase versus: vs., vs, v., v
8. Lowercase NYT words\*: en, if
9. Let intentional capitalization stand

## [MarginNote for Card](magicaction4card.md#format-excerpt-text)

### Format Excerpt Text

Optimize using presets as well as customizations. Only excerpts and titles can be optimized, but not comments, and the [differences](../concept.md#摘录笔记卡片评论) among them can be viewed by clicking the link.

- Title: If `English Title Standardization` is enabled, the optimized title will also be capitalized in English.
- Excerpt
